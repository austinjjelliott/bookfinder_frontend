{"ast":null,"code":"import axios from \"axios\";\nconst BASE_URL = \"http://localhost:3001\";\nconst GOOGLE_BOOKS_API_URL = \"https://www.googleapis.com/books/v1/volumes\";\nconst MAPQUEST_API_URL = \"https://www.mapquestapi.com/search/v2/radius\";\nconst MAPQUEST_API_KEY = \"vIzRjqvib9fNtg4U067gRG0MuLSlfhsU\";\nclass BooklyAPI {\n  // Set the JWT token for authorization\n  static setToken(token) {\n    this.token = token;\n  }\n\n  // Generic request method\n  static async request(endpoint, data = {}, method = \"get\") {\n    const url = `${BASE_URL}/${endpoint}`;\n    const headers = this.token ? {\n      Authorization: `Bearer ${this.token}`\n    } : {};\n    const params = method === \"get\" ? data : {};\n    try {\n      const response = await axios({\n        url,\n        method,\n        data,\n        params,\n        headers\n      });\n      return response.data;\n    } catch (err) {\n      console.error(\"API Error:\", err.response);\n      throw err.response.data;\n    }\n  }\n\n  // User-related API calls to LOCAL backend\n  static async login(credentials) {\n    const res = await this.request(\"auth/token\", credentials, \"post\");\n    return res.token;\n  }\n  static async register(userData) {\n    const res = await this.request(\"auth/register\", userData, \"post\");\n    return res.token;\n  }\n  static async getUser(username) {\n    const res = await this.request(`users/${username}`);\n    // console.log(\"Full response:\", res); // DEBUGGING\n    return res;\n  }\n  static async updateUser(username, userData) {\n    const res = await this.request(`users/${username}`, userData, \"patch\");\n    console.log(\"API Response after profile update:\", res); // Log the response to verify\n    return res;\n  }\n\n  // Book-related API calls to LOCAL backend\n\n  static async addFavorite(bookData) {\n    const res = await this.request(\"books/favorite\", bookData, \"post\");\n    return res.favorite;\n  }\n  static async getFavorites() {\n    const res = await this.request(\"books/favorites\");\n    return res.favorites;\n  }\n  static async removeFavorite(bookId) {\n    const res = await this.request(`books/favorite/${bookId}`, {}, \"delete\");\n    return res.deleted;\n  }\n  static async updateFavorites(username, favorites) {\n    const response = await fetch(`http://localhost:3001/users/${username}/favorites`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}` // Assuming JWT token\n      },\n      body: JSON.stringify({\n        favorites\n      })\n    });\n    if (!response.ok) {\n      throw new Error(\"Error updating favorites\");\n    }\n    const data = await response.json();\n    return data.favorites; // Return the updated favorites list\n  }\n\n  // Google Books API call\n  static async searchBooks(query) {\n    try {\n      const response = await axios.get(GOOGLE_BOOKS_API_URL, {\n        params: {\n          q: query,\n          maxResults: 25\n        }\n      });\n      return response.data.items.map(book => {\n        var _book$volumeInfo$imag;\n        return {\n          id: book.id,\n          title: book.volumeInfo.title,\n          authors: book.volumeInfo.authors || [],\n          description: book.volumeInfo.description || \"No description available\",\n          thumbnail: ((_book$volumeInfo$imag = book.volumeInfo.imageLinks) === null || _book$volumeInfo$imag === void 0 ? void 0 : _book$volumeInfo$imag.thumbnail) || null,\n          pageCount: book.volumeInfo.pageCount,\n          publishedDate: book.volumeInfo.publishedDate\n        };\n      });\n    } catch (err) {\n      console.error(\"Books API Error:\", err.response);\n      throw err.response.data;\n    }\n  }\n  static async getSingleBook(id) {\n    try {\n      const response = await axios.get(`${GOOGLE_BOOKS_API_URL}/${id}`);\n      return response.data;\n    } catch (err) {\n      console.error(\"Book detail API Error:\", err.response);\n      throw err.response.data;\n    }\n  }\n\n  // //MAPQUEST PLACES API CALL:\n  // static async searchPlaces(query) {\n  //   try {\n  //     // Geocode the city to get lat/lng\n  //     const geocodeResponse = await axios.get(\n  //       \"https://www.mapquestapi.com/geocoding/v1/address\",\n  //       {\n  //         params: {\n  //           key: MAPQUEST_API_KEY,\n  //           location: query,\n  //         },\n  //       }\n  //     );\n\n  //     console.log(\"Geocode Response:\", geocodeResponse.data);\n\n  //     const lat = geocodeResponse.data.results[0]?.locations[0]?.latLng?.lat;\n  //     const lng = geocodeResponse.data.results[0]?.locations[0]?.latLng?.lng;\n\n  //     if (!lat || !lng) {\n  //       throw new Error(\"Unable to retrieve coordinates.\");\n  //     }\n\n  //     // Use Place Search instead of Radius Search\n  //     const placesResponse = await axios.get(\n  //       \"https://www.mapquestapi.com/search/v4/place\",\n  //       {\n  //         params: {\n  //           key: MAPQUEST_API_KEY,\n  //           location: \"33.9221, 18.4231\", // Latitude and Longitude in the format 'lat,lng'\n  //           q: \"bookstore\", // Search specifically for bookstores\n  //           limit: 10, // Limit the number of results returned (optional)\n  //           sort: \"relevance\",\n  //         },\n  //       }\n  //     );\n\n  //     console.log(\n  //       \"Places Response Status Code:\",\n  //       placesResponse.data.info.statuscode\n  //     );\n  //     console.log(\n  //       \"Places Response Messages:\",\n  //       placesResponse.data.info.messages\n  //     );\n  //     console.log(\"Places Response Results:\", placesResponse.data.results);\n\n  //     return placesResponse.data.results || []; // Return empty array if no places found\n  //   } catch (err) {\n  //     console.error(\"MapQuest API error:\", err.response || err);\n  //     throw new Error(\"Error fetching places from MapQuest.\");\n  //   }\n  // }\n\n  // static async searchPlaces(query) {\n  //   try {\n  //     // Geocode the city to get lat/lng\n  //     const geocodeResponse = await axios.get(\n  //       \"https://www.mapquestapi.com/geocoding/v1/address\",\n  //       {\n  //         params: {\n  //           key: MAPQUEST_API_KEY,\n  //           location: query,\n  //         },\n  //       }\n  //     );\n  //     console.log(\"Geocode Response:\", geocodeResponse.data); // Log the geocode response\n\n  //     const lat = geocodeResponse.data.results[0].locations[0].latLng.lat;\n  //     const lng = geocodeResponse.data.results[0].locations[0].latLng.lng;\n\n  //     // Search for bookstores near the coordinates\n  //     const placesResponse = await axios.get(\n  //       \"https://www.mapquestapi.com/search/v2/radius\",\n  //       {\n  //         params: {\n  //           key: MAPQUEST_API_KEY,\n  //           location: `${lat},${lng}`,\n  //           radius: 25,\n  //           query: \"bookstore\",\n  //         },\n  //       }\n  //     );\n  //     console.log(\"Places Response:\", placesResponse.data); // Log the places response\n  //     console.log(\n  //       \"Places Response Status Code:\",\n  //       placesResponse.data.info.statuscode\n  //     ); // Log status code\n  //     console.log(\n  //       \"Places Response Messages:\",\n  //       placesResponse.data.info.messages\n  //     ); // Log any messages\n\n  //     return placesResponse.data.results;\n  //   } catch (err) {\n  //     console.error(\"MapQuest Places API error:\", err.response);\n  //     throw new Error(\"Error fetching places from MapQuest.\");\n  //   }\n  // }\n\n  // //FIrst...\n  // static async searchPlaces(query) {\n  //   try {\n  //     const response = await axios.get(MAPQUEST_API_URL, {\n  //       params: {\n  //         query: `bookstores in ${query}`,\n  //         key: MAPQUEST_API_KEY,\n  //       },\n  //     });\n  //     return response.data.results;\n  //   } catch (err) {\n  //     console.error(\"MAPQUEST Places API Error:\", err.response);\n  //     throw err.response?.data;\n  //   }\n  // }\n\n  // static async searchPlaces(query) {\n  //   try {\n  //     const response = await axios.get(\n  //       `https://www.mapquestapi.com/search/v4/query?query=bookstore&location=${query}&key=${MAPQUEST_API_KEY}`\n  //     );\n  //     return response?.data;\n  //   } catch (err) {\n  //     console.log(\"mapquest error\", err);\n  //   }\n  // }\n  static async searchPlaces(query) {\n    try {\n      var _geocodeResponse$data, _geocodeResponse$data2, _geocodeResponse$data3, _geocodeResponse$data4, _geocodeResponse$data5, _geocodeResponse$data6;\n      // Step 1: Geocode the city to get lat/lng\n      const geocodeResponse = await axios.get(\"https://www.mapquestapi.com/geocoding/v1/address\", {\n        params: {\n          key: MAPQUEST_API_KEY,\n          location: query // City or address input\n        }\n      });\n      console.log(\"Geocode Response:\", geocodeResponse.data);\n      const lat = (_geocodeResponse$data = geocodeResponse.data.results[0]) === null || _geocodeResponse$data === void 0 ? void 0 : (_geocodeResponse$data2 = _geocodeResponse$data.locations[0]) === null || _geocodeResponse$data2 === void 0 ? void 0 : (_geocodeResponse$data3 = _geocodeResponse$data2.latLng) === null || _geocodeResponse$data3 === void 0 ? void 0 : _geocodeResponse$data3.lat;\n      const lng = (_geocodeResponse$data4 = geocodeResponse.data.results[0]) === null || _geocodeResponse$data4 === void 0 ? void 0 : (_geocodeResponse$data5 = _geocodeResponse$data4.locations[0]) === null || _geocodeResponse$data5 === void 0 ? void 0 : (_geocodeResponse$data6 = _geocodeResponse$data5.latLng) === null || _geocodeResponse$data6 === void 0 ? void 0 : _geocodeResponse$data6.lng;\n      if (!lat || !lng) {\n        throw new Error(\"Unable to retrieve coordinates.\");\n      }\n\n      // Step 2: Use Place Search to find coffee shops near the retrieved lat/lng\n      const placesResponse = await axios.get(\"https://www.mapquestapi.com/search/v4/place\", {\n        params: {\n          key: MAPQUEST_API_KEY,\n          location: `${lng},${lat}`,\n          // Longitude, Latitude\n          q: \"coffee shop\",\n          // Search term for coffee shops\n          sort: \"relevance\",\n          // Sort the results by relevance\n          limit: 10 // Limit the number of results returned (optional)\n        }\n      });\n      console.log(\"Places Response:\", placesResponse.data);\n\n      // Return the list of coffee shops\n      return placesResponse.data.results.map(place => ({\n        name: place.name,\n        address: place.address,\n        lat: place.position.lat,\n        lng: place.position.lng\n      }));\n    } catch (error) {\n      console.error(\"Error:\", error);\n      throw new Error(\"An error occurred while fetching places.\");\n    }\n  }\n}\nexport default BooklyAPI;","map":{"version":3,"names":["axios","BASE_URL","GOOGLE_BOOKS_API_URL","MAPQUEST_API_URL","MAPQUEST_API_KEY","BooklyAPI","setToken","token","request","endpoint","data","method","url","headers","Authorization","params","response","err","console","error","login","credentials","res","register","userData","getUser","username","updateUser","log","addFavorite","bookData","favorite","getFavorites","favorites","removeFavorite","bookId","deleted","updateFavorites","fetch","localStorage","getItem","body","JSON","stringify","ok","Error","json","searchBooks","query","get","q","maxResults","items","map","book","_book$volumeInfo$imag","id","title","volumeInfo","authors","description","thumbnail","imageLinks","pageCount","publishedDate","getSingleBook","searchPlaces","_geocodeResponse$data","_geocodeResponse$data2","_geocodeResponse$data3","_geocodeResponse$data4","_geocodeResponse$data5","_geocodeResponse$data6","geocodeResponse","key","location","lat","results","locations","latLng","lng","placesResponse","sort","limit","place","name","address","position"],"sources":["/Users/austinelliott/Springboard/Unit-50.Capstone2/capstone-project-two-e14219de7db4449bbc1f6df850e16946/bookfinder/src/api.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = \"http://localhost:3001\";\nconst GOOGLE_BOOKS_API_URL = \"https://www.googleapis.com/books/v1/volumes\";\nconst MAPQUEST_API_URL = \"https://www.mapquestapi.com/search/v2/radius\";\nconst MAPQUEST_API_KEY = \"vIzRjqvib9fNtg4U067gRG0MuLSlfhsU\";\n\nclass BooklyAPI {\n  static token;\n\n  // Set the JWT token for authorization\n  static setToken(token) {\n    this.token = token;\n  }\n\n  // Generic request method\n  static async request(endpoint, data = {}, method = \"get\") {\n    const url = `${BASE_URL}/${endpoint}`;\n    const headers = this.token ? { Authorization: `Bearer ${this.token}` } : {};\n    const params = method === \"get\" ? data : {};\n\n    try {\n      const response = await axios({ url, method, data, params, headers });\n      return response.data;\n    } catch (err) {\n      console.error(\"API Error:\", err.response);\n      throw err.response.data;\n    }\n  }\n\n  // User-related API calls to LOCAL backend\n  static async login(credentials) {\n    const res = await this.request(\"auth/token\", credentials, \"post\");\n    return res.token;\n  }\n\n  static async register(userData) {\n    const res = await this.request(\"auth/register\", userData, \"post\");\n    return res.token;\n  }\n\n  static async getUser(username) {\n    const res = await this.request(`users/${username}`);\n    // console.log(\"Full response:\", res); // DEBUGGING\n    return res;\n  }\n\n  static async updateUser(username, userData) {\n    const res = await this.request(`users/${username}`, userData, \"patch\");\n    console.log(\"API Response after profile update:\", res); // Log the response to verify\n    return res;\n  }\n\n  // Book-related API calls to LOCAL backend\n\n  static async addFavorite(bookData) {\n    const res = await this.request(\"books/favorite\", bookData, \"post\");\n    return res.favorite;\n  }\n\n  static async getFavorites() {\n    const res = await this.request(\"books/favorites\");\n    return res.favorites;\n  }\n\n  static async removeFavorite(bookId) {\n    const res = await this.request(`books/favorite/${bookId}`, {}, \"delete\");\n    return res.deleted;\n  }\n\n  static async updateFavorites(username, favorites) {\n    const response = await fetch(\n      `http://localhost:3001/users/${username}/favorites`,\n      {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`, // Assuming JWT token\n        },\n        body: JSON.stringify({ favorites }),\n      }\n    );\n\n    if (!response.ok) {\n      throw new Error(\"Error updating favorites\");\n    }\n\n    const data = await response.json();\n    return data.favorites; // Return the updated favorites list\n  }\n\n  // Google Books API call\n  static async searchBooks(query) {\n    try {\n      const response = await axios.get(GOOGLE_BOOKS_API_URL, {\n        params: { q: query, maxResults: 25 },\n      });\n      return response.data.items.map((book) => ({\n        id: book.id,\n        title: book.volumeInfo.title,\n        authors: book.volumeInfo.authors || [],\n        description: book.volumeInfo.description || \"No description available\",\n        thumbnail: book.volumeInfo.imageLinks?.thumbnail || null,\n        pageCount: book.volumeInfo.pageCount,\n        publishedDate: book.volumeInfo.publishedDate,\n      }));\n    } catch (err) {\n      console.error(\"Books API Error:\", err.response);\n      throw err.response.data;\n    }\n  }\n\n  static async getSingleBook(id) {\n    try {\n      const response = await axios.get(`${GOOGLE_BOOKS_API_URL}/${id}`);\n      return response.data;\n    } catch (err) {\n      console.error(\"Book detail API Error:\", err.response);\n      throw err.response.data;\n    }\n  }\n\n  // //MAPQUEST PLACES API CALL:\n  // static async searchPlaces(query) {\n  //   try {\n  //     // Geocode the city to get lat/lng\n  //     const geocodeResponse = await axios.get(\n  //       \"https://www.mapquestapi.com/geocoding/v1/address\",\n  //       {\n  //         params: {\n  //           key: MAPQUEST_API_KEY,\n  //           location: query,\n  //         },\n  //       }\n  //     );\n\n  //     console.log(\"Geocode Response:\", geocodeResponse.data);\n\n  //     const lat = geocodeResponse.data.results[0]?.locations[0]?.latLng?.lat;\n  //     const lng = geocodeResponse.data.results[0]?.locations[0]?.latLng?.lng;\n\n  //     if (!lat || !lng) {\n  //       throw new Error(\"Unable to retrieve coordinates.\");\n  //     }\n\n  //     // Use Place Search instead of Radius Search\n  //     const placesResponse = await axios.get(\n  //       \"https://www.mapquestapi.com/search/v4/place\",\n  //       {\n  //         params: {\n  //           key: MAPQUEST_API_KEY,\n  //           location: \"33.9221, 18.4231\", // Latitude and Longitude in the format 'lat,lng'\n  //           q: \"bookstore\", // Search specifically for bookstores\n  //           limit: 10, // Limit the number of results returned (optional)\n  //           sort: \"relevance\",\n  //         },\n  //       }\n  //     );\n\n  //     console.log(\n  //       \"Places Response Status Code:\",\n  //       placesResponse.data.info.statuscode\n  //     );\n  //     console.log(\n  //       \"Places Response Messages:\",\n  //       placesResponse.data.info.messages\n  //     );\n  //     console.log(\"Places Response Results:\", placesResponse.data.results);\n\n  //     return placesResponse.data.results || []; // Return empty array if no places found\n  //   } catch (err) {\n  //     console.error(\"MapQuest API error:\", err.response || err);\n  //     throw new Error(\"Error fetching places from MapQuest.\");\n  //   }\n  // }\n\n  // static async searchPlaces(query) {\n  //   try {\n  //     // Geocode the city to get lat/lng\n  //     const geocodeResponse = await axios.get(\n  //       \"https://www.mapquestapi.com/geocoding/v1/address\",\n  //       {\n  //         params: {\n  //           key: MAPQUEST_API_KEY,\n  //           location: query,\n  //         },\n  //       }\n  //     );\n  //     console.log(\"Geocode Response:\", geocodeResponse.data); // Log the geocode response\n\n  //     const lat = geocodeResponse.data.results[0].locations[0].latLng.lat;\n  //     const lng = geocodeResponse.data.results[0].locations[0].latLng.lng;\n\n  //     // Search for bookstores near the coordinates\n  //     const placesResponse = await axios.get(\n  //       \"https://www.mapquestapi.com/search/v2/radius\",\n  //       {\n  //         params: {\n  //           key: MAPQUEST_API_KEY,\n  //           location: `${lat},${lng}`,\n  //           radius: 25,\n  //           query: \"bookstore\",\n  //         },\n  //       }\n  //     );\n  //     console.log(\"Places Response:\", placesResponse.data); // Log the places response\n  //     console.log(\n  //       \"Places Response Status Code:\",\n  //       placesResponse.data.info.statuscode\n  //     ); // Log status code\n  //     console.log(\n  //       \"Places Response Messages:\",\n  //       placesResponse.data.info.messages\n  //     ); // Log any messages\n\n  //     return placesResponse.data.results;\n  //   } catch (err) {\n  //     console.error(\"MapQuest Places API error:\", err.response);\n  //     throw new Error(\"Error fetching places from MapQuest.\");\n  //   }\n  // }\n\n  // //FIrst...\n  // static async searchPlaces(query) {\n  //   try {\n  //     const response = await axios.get(MAPQUEST_API_URL, {\n  //       params: {\n  //         query: `bookstores in ${query}`,\n  //         key: MAPQUEST_API_KEY,\n  //       },\n  //     });\n  //     return response.data.results;\n  //   } catch (err) {\n  //     console.error(\"MAPQUEST Places API Error:\", err.response);\n  //     throw err.response?.data;\n  //   }\n  // }\n\n  // static async searchPlaces(query) {\n  //   try {\n  //     const response = await axios.get(\n  //       `https://www.mapquestapi.com/search/v4/query?query=bookstore&location=${query}&key=${MAPQUEST_API_KEY}`\n  //     );\n  //     return response?.data;\n  //   } catch (err) {\n  //     console.log(\"mapquest error\", err);\n  //   }\n  // }\n  static async searchPlaces(query) {\n    try {\n      // Step 1: Geocode the city to get lat/lng\n      const geocodeResponse = await axios.get(\n        \"https://www.mapquestapi.com/geocoding/v1/address\",\n        {\n          params: {\n            key: MAPQUEST_API_KEY,\n            location: query, // City or address input\n          },\n        }\n      );\n\n      console.log(\"Geocode Response:\", geocodeResponse.data);\n\n      const lat = geocodeResponse.data.results[0]?.locations[0]?.latLng?.lat;\n      const lng = geocodeResponse.data.results[0]?.locations[0]?.latLng?.lng;\n\n      if (!lat || !lng) {\n        throw new Error(\"Unable to retrieve coordinates.\");\n      }\n\n      // Step 2: Use Place Search to find coffee shops near the retrieved lat/lng\n      const placesResponse = await axios.get(\n        \"https://www.mapquestapi.com/search/v4/place\",\n        {\n          params: {\n            key: MAPQUEST_API_KEY,\n            location: `${lng},${lat}`, // Longitude, Latitude\n            q: \"coffee shop\", // Search term for coffee shops\n            sort: \"relevance\", // Sort the results by relevance\n            limit: 10, // Limit the number of results returned (optional)\n          },\n        }\n      );\n\n      console.log(\"Places Response:\", placesResponse.data);\n\n      // Return the list of coffee shops\n      return placesResponse.data.results.map((place) => ({\n        name: place.name,\n        address: place.address,\n        lat: place.position.lat,\n        lng: place.position.lng,\n      }));\n    } catch (error) {\n      console.error(\"Error:\", error);\n      throw new Error(\"An error occurred while fetching places.\");\n    }\n  }\n}\n\nexport default BooklyAPI;\n"],"mappings":"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CA;EACA;EACA;EACA;EACA;EACA;;EAEA;;EAEA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,aAAawD,YAAYA,CAAClB,KAAK,EAAE;IAC/B,IAAI;MAAA,IAAAmB,qBAAA,EAAAC,sBAAA,EAAAC,sBAAA,EAAAC,sBAAA,EAAAC,sBAAA,EAAAC,sBAAA;MACF;MACA,MAAMC,eAAe,GAAG,MAAMzE,KAAK,CAACiD,GAAG,CACrC,kDAAkD,EAClD;QACElC,MAAM,EAAE;UACN2D,GAAG,EAAEtE,gBAAgB;UACrBuE,QAAQ,EAAE3B,KAAK,CAAE;QACnB;MACF,CACF,CAAC;MAED9B,OAAO,CAACU,GAAG,CAAC,mBAAmB,EAAE6C,eAAe,CAAC/D,IAAI,CAAC;MAEtD,MAAMkE,GAAG,IAAAT,qBAAA,GAAGM,eAAe,CAAC/D,IAAI,CAACmE,OAAO,CAAC,CAAC,CAAC,cAAAV,qBAAA,wBAAAC,sBAAA,GAA/BD,qBAAA,CAAiCW,SAAS,CAAC,CAAC,CAAC,cAAAV,sBAAA,wBAAAC,sBAAA,GAA7CD,sBAAA,CAA+CW,MAAM,cAAAV,sBAAA,uBAArDA,sBAAA,CAAuDO,GAAG;MACtE,MAAMI,GAAG,IAAAV,sBAAA,GAAGG,eAAe,CAAC/D,IAAI,CAACmE,OAAO,CAAC,CAAC,CAAC,cAAAP,sBAAA,wBAAAC,sBAAA,GAA/BD,sBAAA,CAAiCQ,SAAS,CAAC,CAAC,CAAC,cAAAP,sBAAA,wBAAAC,sBAAA,GAA7CD,sBAAA,CAA+CQ,MAAM,cAAAP,sBAAA,uBAArDA,sBAAA,CAAuDQ,GAAG;MAEtE,IAAI,CAACJ,GAAG,IAAI,CAACI,GAAG,EAAE;QAChB,MAAM,IAAInC,KAAK,CAAC,iCAAiC,CAAC;MACpD;;MAEA;MACA,MAAMoC,cAAc,GAAG,MAAMjF,KAAK,CAACiD,GAAG,CACpC,6CAA6C,EAC7C;QACElC,MAAM,EAAE;UACN2D,GAAG,EAAEtE,gBAAgB;UACrBuE,QAAQ,EAAE,GAAGK,GAAG,IAAIJ,GAAG,EAAE;UAAE;UAC3B1B,CAAC,EAAE,aAAa;UAAE;UAClBgC,IAAI,EAAE,WAAW;UAAE;UACnBC,KAAK,EAAE,EAAE,CAAE;QACb;MACF,CACF,CAAC;MAEDjE,OAAO,CAACU,GAAG,CAAC,kBAAkB,EAAEqD,cAAc,CAACvE,IAAI,CAAC;;MAEpD;MACA,OAAOuE,cAAc,CAACvE,IAAI,CAACmE,OAAO,CAACxB,GAAG,CAAE+B,KAAK,KAAM;QACjDC,IAAI,EAAED,KAAK,CAACC,IAAI;QAChBC,OAAO,EAAEF,KAAK,CAACE,OAAO;QACtBV,GAAG,EAAEQ,KAAK,CAACG,QAAQ,CAACX,GAAG;QACvBI,GAAG,EAAEI,KAAK,CAACG,QAAQ,CAACP;MACtB,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,OAAO7D,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;MAC9B,MAAM,IAAI0B,KAAK,CAAC,0CAA0C,CAAC;IAC7D;EACF;AACF;AAEA,eAAexC,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}